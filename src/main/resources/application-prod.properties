# ============================================
# Production Configuration for Railway
# ============================================
# This file is for Railway deployment
# Railway will automatically set DATABASE_URL environment variable
# Spring Boot 3.x automatically parses DATABASE_URL format: postgresql://user:pass@host:port/db

# Database Configuration (Railway PostgreSQL)
# Railway automatically provides DATABASE_URL in format: postgresql://user:password@host:port/database
# DataSourceConfig.java will parse DATABASE_URL and configure DataSource automatically
# DO NOT set spring.datasource.url here - let DataSourceConfig handle it
# spring.datasource.url=${DATABASE_URL}  # Commented out - handled by DataSourceConfig
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=false

# Disable JPA open-in-view (better performance)
spring.jpa.open-in-view=false

# Firebase Configuration (from environment variables)
# Option 1: Use environment variables (recommended for Railway)
firebase.enabled=${FIREBASE_ENABLED:true}
firebase.project-id=${FIREBASE_PROJECT_ID}
firebase.private-key-id=${FIREBASE_PRIVATE_KEY_ID}
firebase.private-key=${FIREBASE_PRIVATE_KEY}
firebase.client-email=${FIREBASE_CLIENT_EMAIL}
firebase.client-id=${FIREBASE_CLIENT_ID}
firebase.client-x509-cert-url=${FIREBASE_CLIENT_X509_CERT_URL}
# Option 2: Use JSON file (if uploaded to Railway)
firebase.credentials.path=${FIREBASE_CREDENTIALS_PATH:classpath:firebase-service-account.json}

# JWT Configuration (from environment variables)
# IMPORTANT: Generate a strong secret key for production!
# Use generate-jwt-secret.bat (Windows) or generate-jwt-secret.sh (Linux/Mac)
jwt.secret=${JWT_SECRET}
jwt.expiration=${JWT_EXPIRATION:86400000}

# Google Cloud AI Configuration (OPTIONAL - disable if no credentials)
# Set google.cloud.enabled=false to disable all AI features
google.cloud.enabled=${GOOGLE_CLOUD_ENABLED:false}
google.cloud.project-id=${GOOGLE_CLOUD_PROJECT_ID:hokori-web}

# Google Cloud credentials can be loaded via:
# Option 1: Set GOOGLE_APPLICATION_CREDENTIALS environment variable (path to JSON file)
# Option 2: Upload google-cloud-service-account.json to Railway and set GOOGLE_APPLICATION_CREDENTIALS=/path/to/file
# Option 3: Use default credentials (if running on GCP)
# Option 4: Set individual credential fields as environment variables (similar to Firebase):
#   - GOOGLE_CLOUD_PRIVATE_KEY_ID
#   - GOOGLE_CLOUD_PRIVATE_KEY
#   - GOOGLE_CLOUD_CLIENT_EMAIL
#   - GOOGLE_CLOUD_CLIENT_ID
#   - GOOGLE_CLOUD_CLIENT_X509_CERT_URL

# Enable/Disable specific AI services (optional, defaults to false)
google.cloud.translate.enabled=${GOOGLE_CLOUD_TRANSLATE_ENABLED:false}
google.cloud.natural-language.enabled=${GOOGLE_CLOUD_NATURAL_LANGUAGE_ENABLED:false}
google.cloud.speech.enabled=${GOOGLE_CLOUD_SPEECH_ENABLED:false}
google.cloud.text-to-speech.enabled=${GOOGLE_CLOUD_TEXT_TO_SPEECH_ENABLED:false}

# Logging Configuration
logging.level.com.hokori.web=INFO
logging.level.org.springframework.security=WARN
logging.level.org.hibernate=WARN

# Disable Thymeleaf template location check
spring.thymeleaf.check-template-location=false

